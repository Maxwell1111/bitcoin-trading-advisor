<!DOCTYPE html>
<html>
<head>
    <title>Bitcoin Advisor Backtest Results</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: #0f1419;
            color: #e1e8ed;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        h1 {
            text-align: center;
            color: #1da1f2;
            margin-bottom: 10px;
        }
        .subtitle {
            text-align: center;
            color: #8899a6;
            margin-bottom: 30px;
        }
        .explanation {
            background: #192734;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            border: 1px solid #38444d;
        }
        .explanation h3 {
            color: #1da1f2;
            margin-top: 0;
        }
        .explanation-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        .explanation-item {
            background: #0f1419;
            padding: 15px;
            border-radius: 5px;
        }
        .explanation-item h4 {
            color: #1da1f2;
            margin: 0 0 10px 0;
            font-size: 16px;
        }
        .explanation-item p {
            margin: 0;
            color: #8899a6;
            font-size: 14px;
            line-height: 1.6;
        }
        .key-insight {
            background: #1a3a52;
            border-left: 4px solid #1da1f2;
            padding: 15px;
            margin: 15px 0;
        }
        .key-insight strong {
            color: #1da1f2;
        }
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }
        .stat-card {
            background: #192734;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #38444d;
        }
        .stat-label {
            color: #8899a6;
            font-size: 14px;
            margin-bottom: 5px;
        }
        .stat-value {
            font-size: 28px;
            font-weight: bold;
            color: #1da1f2;
        }
        .chart {
            background: #192734;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 1px solid #38444d;
        }
        .legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸ“Š Bitcoin Trading Advisor - Backtest Results</h1>
        <p class="subtitle">Holistic Multi-Factor Analysis Performance</p>

        <div class="explanation">
            <h3>ðŸ“– What is This?</h3>
            <p>This backtest tests the recommendation engine on <strong>historical data</strong> to see how it would have performed in the past.</p>

            <div class="key-insight">
                <strong>How it works:</strong> Every week for the past year, we ran the advisor as if we were living in that moment. We recorded what it recommended (Buy/Hold/Sell) and compared it to what actually happened to Bitcoin's price.
            </div>

            <div class="explanation-grid">
                <div class="explanation-item">
                    <h4>ðŸŽ¯ Composite Score</h4>
                    <p><strong>Range:</strong> -1.00 to +1.00<br>
                    <strong>Meaning:</strong> Weighted average of 5 factors<br>
                    â€¢ +0.70+ = Strong Buy<br>
                    â€¢ +0.30 to +0.70 = Buy<br>
                    â€¢ -0.30 to +0.30 = Hold<br>
                    â€¢ -0.70 to -0.30 = Sell<br>
                    â€¢ -0.70- = Strong Sell</p>
                </div>

                <div class="explanation-item">
                    <h4>ðŸ“Š The 5 Factors</h4>
                    <p><strong>RSI (20%):</strong> Overbought/oversold<br>
                    <strong>Moving Avg (25%):</strong> Trend direction<br>
                    <strong>Power Law (25%):</strong> Long-term value<br>
                    <strong>MACD (15%):</strong> Momentum<br>
                    <strong>Sentiment (15%):</strong> Market psychology</p>
                </div>

                <div class="explanation-item">
                    <h4>ðŸ“ˆ Your Results</h4>
                    <p><strong>Conservative Strategy:</strong> 97% Hold signals<br>
                    <strong>Interpretation:</strong> The advisor avoided overtrading during 2025's sideways market.<br>
                    <strong>Accuracy:</strong> 23.7% of signals matched price movement</p>
                </div>
            </div>
        </div>

        <div class="stats">
            <div class="stat-card">
                <div class="stat-label">Period</div>
                <div class="stat-value" style="font-size: 18px;">2025-03-31<br>to<br>2025-12-15</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Data Points</div>
                <div class="stat-value">38</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Avg Composite Score</div>
                <div class="stat-value">0.026</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Buy Signals</div>
                <div class="stat-value" style="color: #17bf63;">1</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Sell Signals</div>
                <div class="stat-value" style="color: #f45531;">0</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Hold Signals</div>
                <div class="stat-value" style="color: #8899a6;">37</div>
            </div>
        </div>

        <div class="explanation">
            <h3>Chart 1: Price vs Composite Score</h3>
            <p><strong>What to look for:</strong> Does the score rise BEFORE price rises? That would mean the advisor is predicting upward movement. Does it fall before price falls? That's a warning signal.</p>
        </div>
        <div class="chart" id="price-score-chart"></div>

        <div class="explanation">
            <h3>Chart 2: Composite Score Distribution</h3>
            <p><strong>Color coding:</strong> Green bars = Buy signals, Gray = Hold, Red = Sell. The dashed lines show the thresholds (+0.7, +0.3, -0.3, -0.7).<br>
            <strong>Your results:</strong> Almost all bars are gray (Hold) because 2025 was a sideways/consolidation year with no extreme signals.</p>
        </div>
        <div class="chart" id="composite-chart"></div>

        <div class="explanation">
            <h3>Chart 3: Individual Factor Contributions</h3>
            <p><strong>This shows each of the 5 factors BEFORE weighting.</strong> You can see which factors were bullish (positive) or bearish (negative) at different times.<br>
            <strong>Key insight:</strong> When all 5 lines align (all positive or all negative), that creates a strong signal. When they diverge, you get Hold.</p>
        </div>
        <div class="chart" id="factors-chart"></div>

        <div class="explanation">
            <h3>Chart 4: RSI & Power Law Deviation Detail</h3>
            <p><strong>RSI (blue):</strong> Above 70 = overbought (potential sell), below 30 = oversold (potential buy).<br>
            <strong>Power Law (red):</strong> Negative % = Bitcoin is cheap vs long-term trend. Positive % = Bitcoin is expensive.<br>
            <strong>Sweet spot:</strong> RSI below 30 + Power Law negative = Strong buy opportunity.</p>
        </div>
        <div class="chart" id="rsi-pl-chart"></div>

        <div class="legend">
            <div class="legend-item">
                <div class="legend-color" style="background: #17bf63;"></div>
                <span>Strong Buy (&gt; 0.7)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #90ee90;"></div>
                <span>Buy (0.3 to 0.7)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #8899a6;"></div>
                <span>Hold (-0.3 to 0.3)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #ffb3b3;"></div>
                <span>Sell (-0.7 to -0.3)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #f45531;"></div>
                <span>Strong Sell (&lt; -0.7)</span>
            </div>
        </div>
    </div>

    <script>
        // Data
        const dates = ["2025-03-31", "2025-04-07", "2025-04-14", "2025-04-21", "2025-04-28", "2025-05-05", "2025-05-12", "2025-05-19", "2025-05-26", "2025-06-02", "2025-06-09", "2025-06-16", "2025-06-23", "2025-06-30", "2025-07-07", "2025-07-14", "2025-07-21", "2025-07-28", "2025-08-04", "2025-08-11", "2025-08-18", "2025-08-25", "2025-09-01", "2025-09-08", "2025-09-15", "2025-09-22", "2025-09-29", "2025-10-06", "2025-10-13", "2025-10-20", "2025-10-27", "2025-11-03", "2025-11-10", "2025-11-17", "2025-11-24", "2025-12-01", "2025-12-08", "2025-12-15"];
        const prices = [82548.9140625, 79235.3359375, 84542.390625, 87518.90625, 94978.75, 94748.0546875, 102812.953125, 105606.1796875, 109440.3671875, 105881.53125, 110294.1015625, 106796.7578125, 105577.7734375, 107135.3359375, 108299.8515625, 119849.703125, 117439.5390625, 117924.4765625, 115071.8828125, 118731.4453125, 116252.3125, 110124.3515625, 109250.59375, 112071.4296875, 115444.875, 112748.5078125, 114400.3828125, 124752.53125, 115271.078125, 110588.9296875, 114119.328125, 106547.5234375, 105996.59375, 92093.875, 88270.5625, 86321.5703125, 90640.203125, 86419.78125];
        const compositeScores = [0.162, 0.154, 0.192, 0.137, -0.054, 0.053, -0.034, -0.138, -0.121, -0.109, -0.069, -0.074, -0.024, 0.051, 0.046, -0.04, -0.131, -0.079, -0.108, 0.042, -0.068, -0.038, -0.032, 0.05, -0.043, 0.035, -0.07, -0.026, -0.103, 0.11, 0.064, 0.115, 0.118, 0.116, 0.165, 0.305, 0.206, 0.218];
        const scoreMa7 = [0.162, 0.158, 0.16933333333333334, 0.161, 0.09166666666666667, 0.04533333333333334, -0.011666666666666667, -0.039666666666666676, -0.09766666666666668, -0.12266666666666669, -0.09966666666666667, -0.084, -0.05566666666666667, -0.015666666666666666, 0.024333333333333332, 0.019, -0.041666666666666664, -0.08333333333333333, -0.106, -0.04833333333333333, -0.04466666666666667, -0.021333333333333333, -0.046000000000000006, -0.006666666666666665, -0.008333333333333331, 0.014000000000000004, -0.026, -0.02033333333333333, -0.06633333333333334, -0.00633333333333333, 0.02366666666666667, 0.09633333333333333, 0.09899999999999999, 0.11633333333333333, 0.133, 0.19533333333333336, 0.22533333333333336, 0.243];
        const rsiValues = [45.79, 28.53, 52.96, 65.96, 84.78, 72.75, 70.75, 78.26, 67.04, 50.69, 52.1, 52.35, 36.47, 51.07, 59.73, 80.5, 76.22, 43.11, 42.69, 52.43, 52.87, 35.57, 37.33, 56.27, 76.56, 52.66, 47.2, 76.35, 51.31, 29.85, 47.49, 40.93, 35.98, 28.05, 19.42, 37.24, 55.23, 50.22];
        const powerLawDeviations = [7.787749668414754, 2.755666999860884, 8.891440336714798, 11.958463796053971, 20.675974377199218, 19.56593316505475, 28.863893248771888, 31.468729244638688, 35.32057803509485, 30.035858568964525, 34.54118611623521, 29.39708986963444, 27.059117643347413, 28.06674720209451, 28.58941334033499, 41.34857098744455, 37.57809492312752, 37.22169647371595, 33.00724313545414, 36.32089767365128, 32.584345784028585, 24.758840237440644, 22.945440422925763, 25.28166691355092, 28.19603244660444, 24.371640564254907, 25.357979069909447, 35.79729459414323, 24.647235007036343, 18.79489535294516, 21.779010597902005, 12.950193259263266, 11.626980451185409, -3.6515079476123633, -8.257572638548167, -10.871403930703645, -7.025202653314194, -11.934176940096703];
        const recommendations = ["hold", "hold", "hold", "hold", "hold", "hold", "hold", "hold", "hold", "hold", "hold", "hold", "hold", "hold", "hold", "hold", "hold", "hold", "hold", "hold", "hold", "hold", "hold", "hold", "hold", "hold", "hold", "hold", "hold", "hold", "hold", "hold", "hold", "hold", "hold", "buy", "hold", "hold"];

        // Chart 1: Price vs Composite Score
        const trace1 = {
            x: dates,
            y: prices,
            name: 'BTC Price',
            type: 'scatter',
            line: { color: '#1da1f2', width: 2 },
            yaxis: 'y'
        };

        const trace2 = {
            x: dates,
            y: compositeScores,
            name: 'Composite Score',
            type: 'scatter',
            line: { color: '#f45531', width: 2 },
            yaxis: 'y2'
        };

        const trace3 = {
            x: dates,
            y: scoreMa7,
            name: 'Score MA (3-day)',
            type: 'scatter',
            line: { color: '#ffad1f', width: 1, dash: 'dot' },
            yaxis: 'y2'
        };

        const layout1 = {
            title: 'BTC Price vs Composite Score',
            paper_bgcolor: '#192734',
            plot_bgcolor: '#0f1419',
            font: { color: '#e1e8ed' },
            xaxis: { gridcolor: '#38444d' },
            yaxis: {
                title: 'BTC Price ($)',
                gridcolor: '#38444d',
                side: 'left'
            },
            yaxis2: {
                title: 'Composite Score',
                overlaying: 'y',
                side: 'right',
                gridcolor: '#38444d',
                zeroline: true,
                zerolinecolor: '#8899a6'
            },
            hovermode: 'x unified'
        };

        Plotly.newPlot('price-score-chart', [trace1, trace2, trace3], layout1, {responsive: true});

        // Chart 2: Composite Score Distribution
        const trace4 = {
            x: dates,
            y: compositeScores,
            type: 'bar',
            marker: {
                color: compositeScores.map(score =>
                    score > 0.7 ? '#17bf63' :
                    score > 0.3 ? '#90ee90' :
                    score < -0.7 ? '#f45531' :
                    score < -0.3 ? '#ffb3b3' :
                    '#8899a6'
                )
            },
            name: 'Composite Score'
        };

        const layout2 = {
            title: 'Composite Score Over Time (Color-coded by Signal)',
            paper_bgcolor: '#192734',
            plot_bgcolor: '#0f1419',
            font: { color: '#e1e8ed' },
            xaxis: { gridcolor: '#38444d' },
            yaxis: {
                title: 'Composite Score',
                gridcolor: '#38444d',
                zeroline: true,
                zerolinecolor: '#8899a6'
            },
            shapes: [
                { type: 'line', y0: 0.7, y1: 0.7, x0: dates[0], x1: dates[dates.length-1],
                   line: { color: '#17bf63', width: 1, dash: 'dash' } },
                { type: 'line', y0: 0.3, y1: 0.3, x0: dates[0], x1: dates[dates.length-1],
                   line: { color: '#90ee90', width: 1, dash: 'dash' } },
                { type: 'line', y0: -0.3, y1: -0.3, x0: dates[0], x1: dates[dates.length-1],
                   line: { color: '#ffb3b3', width: 1, dash: 'dash' } },
                { type: 'line', y0: -0.7, y1: -0.7, x0: dates[0], x1: dates[dates.length-1],
                   line: { color: '#f45531', width: 1, dash: 'dash' } }
            ]
        };

        Plotly.newPlot('composite-chart', [trace4], layout2, {responsive: true});

        // Chart 3: Individual Factors
        const factorsData = {"rsi_score": [0.0, 0.524, 0.0, -0.3, -0.746, -0.546, -0.512, -0.638, -0.3, 0.0, 0.0, 0.0, 0.3, 0.0, 0.0, -0.675, -0.604, 0.0, 0.0, 0.0, 0.0, 0.3, 0.3, 0.0, -0.609, 0.0, 0.0, -0.606, 0.0, 0.502, 0.0, 0.0, 0.3, 0.532, 0.676, 0.3, 0.0, 0.0], "ma_score": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], "pl_score": [0.1, 0.1, 0.1, 0.1, -0.4, 0.1, -0.4, -0.4, -0.4, -0.4, -0.4, -0.4, -0.4, -0.4, -0.4, -0.4, -0.4, -0.4, -0.4, -0.4, -0.4, -0.4, -0.4, -0.4, -0.4, -0.4, -0.4, -0.4, -0.4, 0.1, -0.4, 0.1, 0.1, 0.1, 0.1, 0.3, 0.1, 0.3], "macd_score": [0.312, -0.442, 0.511, 0.549, 0.7, 0.316, 0.522, 0.0, -0.34, -0.657, -0.39, -0.423, -0.494, 0.408, 0.373, 0.7, 0.0, -0.457, -0.652, 0.344, -0.39, -0.585, -0.55, 0.398, 0.592, 0.301, -0.403, 0.7, -0.617, -0.7, 0.495, 0.0, -0.381, -0.7, -0.571, 0.537, 0.61, 0.351], "sentiment_score": [0.6, 0.6, 0.6, 0.6, 0.6, 0.6, 0.6, 0.6, 0.6, 0.6, 0.6, 0.6, 0.6, 0.6, 0.6, 0.6, 0.6, 0.6, 0.6, 0.6, 0.6, 0.6, 0.6, 0.6, 0.6, 0.6, 0.6, 0.6, 0.6, 0.6, 0.6, 0.6, 0.6, 0.6, 0.6, 0.6, 0.6, 0.6]};

        const trace5 = { x: dates, y: factorsData.rsi_score, name: 'RSI (20%)', type: 'scatter', line: { color: '#1da1f2' } };
        const trace6 = { x: dates, y: factorsData.ma_score, name: 'MA (25%)', type: 'scatter', line: { color: '#17bf63' } };
        const trace7 = { x: dates, y: factorsData.pl_score, name: 'Power Law (25%)', type: 'scatter', line: { color: '#f45531' } };
        const trace8 = { x: dates, y: factorsData.macd_score, name: 'MACD (15%)', type: 'scatter', line: { color: '#ffad1f' } };
        const trace9 = { x: dates, y: factorsData.sentiment_score, name: 'Sentiment (15%)', type: 'scatter', line: { color: '#e1e8ed' } };

        const layout3 = {
            title: 'Individual Factor Scores (Pre-weighting)',
            paper_bgcolor: '#192734',
            plot_bgcolor: '#0f1419',
            font: { color: '#e1e8ed' },
            xaxis: { gridcolor: '#38444d' },
            yaxis: {
                title: 'Factor Score',
                gridcolor: '#38444d',
                zeroline: true,
                zerolinecolor: '#8899a6'
            },
            hovermode: 'x unified'
        };

        Plotly.newPlot('factors-chart', [trace5, trace6, trace7, trace8, trace9], layout3, {responsive: true});

        // Chart 4: RSI and Power Law Deviation
        const trace10 = {
            x: dates,
            y: rsiValues,
            name: 'RSI',
            type: 'scatter',
            line: { color: '#1da1f2', width: 2 },
            yaxis: 'y'
        };

        const trace11 = {
            x: dates,
            y: powerLawDeviations,
            name: 'Power Law Deviation (%)',
            type: 'scatter',
            line: { color: '#f45531', width: 2 },
            yaxis: 'y2'
        };

        const layout4 = {
            title: 'RSI & Power Law Deviation',
            paper_bgcolor: '#192734',
            plot_bgcolor: '#0f1419',
            font: { color: '#e1e8ed' },
            xaxis: { gridcolor: '#38444d' },
            yaxis: {
                title: 'RSI',
                gridcolor: '#38444d',
                range: [0, 100]
            },
            yaxis2: {
                title: 'Power Law Deviation (%)',
                overlaying: 'y',
                side: 'right',
                gridcolor: '#38444d',
                zeroline: true,
                zerolinecolor: '#8899a6'
            },
            shapes: [
                { type: 'line', y0: 70, y1: 70, x0: dates[0], x1: dates[dates.length-1],
                   line: { color: '#f45531', width: 1, dash: 'dash' }, yref: 'y' },
                { type: 'line', y0: 30, y1: 30, x0: dates[0], x1: dates[dates.length-1],
                   line: { color: '#17bf63', width: 1, dash: 'dash' }, yref: 'y' }
            ],
            hovermode: 'x unified'
        };

        Plotly.newPlot('rsi-pl-chart', [trace10, trace11], layout4, {responsive: true});
    </script>
</body>
</html>
